<PluginUserControl x:Class="UniPlaySong.Controls.MusicControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:UniPlaySong.Controls"
    mc:Ignorable="d"
    d:DataContext="{d:DesignInstance Type=local:MusicControl}"
    Tag="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType=Control, AncestorLevel=1}, Path=Tag}">
    <!--
    UniPlaySong Theme Integration Control

    Theme developers: Use this control to pause/resume music based on UI state.
    This follows the PlayniteSound pattern for compatibility.

    Usage in theme XAML:
        <ContentControl x:Name="UPS_MusicControl">
            <ContentControl.Style>
                <Style TargetType="ContentControl">
                    <Setter Property="Tag" Value="False"/>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding SomeOverlayVisible}" Value="True">
                            <Setter Property="Tag" Value="True"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </ContentControl.Style>
        </ContentControl>

    Tag="True"  = Pause music (overlay/video active)
    Tag="False" = Resume music (overlay/video ended)

    Bindable properties:
        - VideoIsPlaying (bool): True if music should be paused (maps to ThemeOverlayActive internally)
        - ThemeOverlayActive (bool): True if theme overlay is active
    -->
</PluginUserControl>
